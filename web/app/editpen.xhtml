<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    <f:metadata>
        <f:viewAction action="#{penController.loadPen(param.index)}"/>
    </f:metadata>
    <h:head>
        <title>Edit Pen</title>
        <h:outputStylesheet library="css" name="bootstrap.min.css"/>
        <h:outputStylesheet library="css" name="createpen.css"/>
        <h:outputScript library="js" name="bootstrap.min.js" />
        <h:outputScript library="js" name="jquery.min.js" />
    </h:head>
    <h:body>
        <ui:include src="/nav-header.xhtml" />
        <h:panelGroup layout="block" class="container">
            <h:form class="form-createpen">
                <h1 class="form-create-heading">Edit Pen</h1>
                <div class="form-group">
                    <label for="name">
                        Pen Name:
                    </label>
                    <h:inputText id="name" 
                                 value="#{penController.pen.name}" 
                                 validatorMessage="Please enter a valid name." 
                                 converterMessage="Please enter a valid name." 
                                 required="true" 
                                 requiredMessage="Please enter a name."
                                 class="form-control"/>
                    <h:message for="name" class="error"/>
                </div>
                <div class="form-group">
                    <label for="brand">
                        Brand: 
                    </label>
                    <h:inputText id="brand" 
                                 value="#{penController.pen.brand}" 
                                 validatorMessage="Please enter a valid brand." 
                                 converterMessage="Please enter a valid brand." 
                                 required="true" 
                                 requiredMessage="Please enter a brand."
                                 class="form-control"/>
                    <h:message for="brand" class="error"/>
                </div>
                <div class="form-group">
                    <label for="nibsize">
                        Nib Size:
                    </label>
                    <h:inputText id="nibsize" value="#{penController.pen.nibSize}" 
                                 validatorMessage="Please enter a nib size between 0.3 and 2.5" 
                                 converterMessage="Please enter a valid size." 
                                 required="true" 
                                 requiredMessage="Please enter a size."
                                 class="form-control"
                                 a:placeholder="between 0.3 and 2.5">
                        <f:validateDoubleRange minimum="0.3" maximum="2.5" />                       
                    </h:inputText>
                    <h:message for="nibsize" class="error"/>
                </div>
                <div class="form-group">
                    <label for="colour">
                        Colour:
                    </label>
                    <h:inputText id="colour" 
                                 value="#{penController.pen.colour}" 
                                 validatorMessage="Please enter a valid colour." 
                                 converterMessage="Please enter a valid colour." 
                                 required="true" 
                                 requiredMessage="Please enter a colour."
                                 class="form-control" />
                    <h:message for="colour" class="error"/>
                </div>
                <h:inputHidden value="#{penController.pen.id}"/>
                <h:commandButton value="Save Changes" action="#{penController.updatePen}" class="btn btn-primary"/>
                <h:link value="Cancel" outcome="/app/penlist" class="btn btn-default"/>
            </h:form>
        </h:panelGroup>
    </h:body>

</html>

